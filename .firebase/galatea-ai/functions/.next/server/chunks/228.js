exports.id=228,exports.ids=[228],exports.modules={5827:(e,t,r)=>{Promise.resolve().then(r.bind(r,2194))},5016:(e,t,r)=>{Promise.resolve().then(r.bind(r,4638))},9789:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},2194:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(326),s=r(7577),o=r(5047),n=r(4638),i=r(1550);function l({children:e}){(0,o.useRouter)();let{user:t,loading:r}=(0,n.a)(),[l,d]=(0,s.useState)(!0);return r||l?a.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-rose-600"}),a.jsx("div",{className:"text-2xl text-earth-800",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"h-screen w-screen flex overflow-hidden bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100 absolute top-0 left-0",children:[a.jsx(i.Z,{}),a.jsx("div",{className:"flex-1 flex flex-col h-full",children:a.jsx("main",{className:"flex-1 h-full overflow-auto",children:e})})]})}},4638:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>c,a:()=>d});var a=r(326),s=r(7577),o=r(4856),n=r(5047),i=r(902);let l=(0,s.createContext)({user:null,loading:!0,error:null,isAuthenticated:!1,signOut:async()=>{}}),d=()=>(0,s.useContext)(l),c=({children:e})=>{let[t,r]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0),[u,h]=(0,s.useState)(null),m=(0,n.useRouter)(),g=(0,o.v0)(i.ZP),f=async()=>{try{console.log("Signing out from AuthContext..."),await (0,o.w7)(g),r(null),m.push("/")}catch(e){console.error("Error signing out:",e),h("Failed to sign out")}};return(0,s.useEffect)(()=>{console.log("Setting up auth state listener");let e=(0,o.Aj)(g,e=>{console.log("Auth state changed:",e?`Logged in as ${e.displayName||e.email}`:"Not logged in"),e?r({uid:e.uid,email:e.email||"",emailVerified:e.emailVerified,displayName:e.displayName||"",isAnonymous:e.isAnonymous,photoURL:e.photoURL||"",providerData:e.providerData.map(e=>({providerId:e.providerId,uid:e.uid,displayName:e.displayName||"",email:e.email||"",phoneNumber:e.phoneNumber,photoURL:e.photoURL||""})),stsTokenManager:{refreshToken:e.refreshToken||"",accessToken:"",expirationTime:0},createdAt:"",lastLoginAt:"",apiKey:"",appName:g.app.name}):(console.log("No user detected, clearing user state"),r(null)),c(!1)},e=>{console.error("Auth state error:",e),h(e.message),c(!1)});return()=>e()},[g,m]),a.jsx(l.Provider,{value:{user:t,loading:d,error:u,isAuthenticated:!!t,signOut:f},children:e})}},1550:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var a=r(326),s=r(434),o=r(5047);let n=(0,r(2881).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var i=r(772),l=r(7577),d=r(4638),c=r(5921);let u=()=>{let e=(0,o.usePathname)(),{user:t,signOut:r}=(0,d.a)(),{matches:u,loading:h,fetchMatches:m,initialized:g}=(0,c.em)();(0,l.useEffect)(()=>{!t?.uid||g||h||m(t.uid)},[t?.uid,g,h,m]);let f=u.length,x=c.ZP.getUnreadCount(),p=async()=>{try{c.ZP.clearMatches(),await r()}catch(e){console.error("Error signing out:",e)}};return(0,a.jsxs)("div",{className:"hidden md:flex w-64 bg-white bg-opacity-90 shadow-md flex-col h-screen",children:[(0,a.jsxs)("div",{className:"p-6 flex-grow overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-bold text-earth-800 mb-4",children:"Navigation"}),(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsxs)(s.default,{href:"/swipe",className:`flex items-center px-4 py-3 rounded-lg font-medium ${"/swipe"===e?"bg-rose-50 text-rose-600":"text-earth-600 hover:bg-rose-50 hover:text-rose-600"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Discover Matches"]}),(0,a.jsxs)(s.default,{href:"/matches",className:`flex items-center px-4 py-3 rounded-lg font-medium ${"/matches"===e?"bg-rose-50 text-rose-600":"text-earth-600 hover:bg-rose-50 hover:text-rose-600"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 00-6.364 0z"})}),"My Matches",f>0&&a.jsx("span",{className:"ml-auto bg-rose-100 text-rose-600 text-xs py-1 px-2 rounded-full",children:f})]}),(0,a.jsxs)(s.default,{href:"/profile",className:`flex items-center px-4 py-3 rounded-lg font-medium ${"/profile"===e?"bg-rose-50 text-rose-600":"text-earth-600 hover:bg-rose-50 hover:text-rose-600"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"My Profile"]}),(0,a.jsxs)("div",{className:"pt-4 mt-4 border-t border-gray-200",children:[a.jsx("h3",{className:"text-sm font-semibold text-earth-500 mb-2 px-4",children:"Match Stats"}),(0,a.jsxs)("div",{className:"bg-ivory-50 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-earth-600",children:"New Matches"}),a.jsx("span",{className:"bg-rose-100 text-rose-600 text-xs py-1 px-2 rounded-full",children:f})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-earth-600",children:"Unread Messages"}),a.jsx("span",{className:"bg-rose-100 text-rose-600 text-xs py-1 px-2 rounded-full",children:x})]})]})]})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-200 mt-auto",children:(0,a.jsxs)(i.z,{onClick:p,variant:"outline",className:"w-full flex items-center justify-center text-earth-600 hover:text-rose-600 hover:bg-rose-50 border-earth-200",children:[a.jsx(n,{size:18,className:"mr-2"}),"Sign Out"]})})]})}},772:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var a=r(326),s=r(7577),o=r(6438),n=r(9360),i=r(7863);let l=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-rose-600 text-ivory-100 hover:bg-rose-700",signIn:"bg-rose-600 text-ivory-100 hover:bg-rose-700",destructive:"bg-red-500 text-ivory-100 hover:bg-red-600",outline:"border border-earth-200 bg-ivory-100 hover:bg-earth-100 hover:text-earth-700",secondary:"bg-earth-200 text-earth-700 hover:bg-earth-300",ghost:"hover:bg-earth-100 hover:text-earth-700",link:"underline-offset-4 hover:underline text-rose-600"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},d)=>{let c=s?o.g7:"button";return a.jsx(c,{className:(0,i.cn)(l({variant:t,size:r,className:e})),ref:d,...n})});d.displayName="Button"},2643:(e,t,r)=>{"use strict";r.d(t,{Zb:()=>n});var a=r(326),s=r(7577),o=r(7863);let n=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("rounded-lg border border-earth-200 bg-ivory-100 text-earth-800 shadow-sm",e),...t}));n.displayName="Card",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",s.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",s.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,o.cn)("text-sm text-earth-600",e),...t})).displayName="CardDescription",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("p-6 pt-0",e),...t})).displayName="CardContent",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},902:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>s});var a=r(2585);r(76),r(1552),r(32);let s=(0,a.ZF)({apiKey:"AIzaSyBlw_fzjEs-NbOabJkHEpGbfBdDEt7RVvI",authDomain:"galatea-ai.firebaseapp.com",projectId:"galatea-ai",storageBucket:"galatea-ai.firebasestorage.app",messagingSenderId:"727737899444",appId:"1:727737899444:web:16152c4885a96302af7ae1",measurementId:"G-6ZQT56XSCV"})},7863:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(1135),s=r(1009);function o(...e){return(0,s.m6)((0,a.W)(e))}},5921:(e,t,r)=>{"use strict";let a,s;r.d(t,{ZP:()=>h,em:()=>c});var o=r(7577);let n=e=>{let t;let r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,o={setState:a,getState:s,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(a,s,o);return o},i=e=>e?n(e):n,l=e=>e,d=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>d(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>d(t)(e)}}},c=(e=>{let t=i(e),r=e=>(function(e,t=l){let r=o.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return o.useDebugValue(r),r})(t,e);return Object.assign(r,t),r})((a=(e,t)=>({matches:[],loading:!1,error:null,initialized:!1,fetchMatches:async t=>{try{e({loading:!0,error:null});let r=await fetch(`/api/matches${t?`?userId=${t}`:""}`);if(!r.ok)throw Error(`Failed to fetch matches: ${r.status}`);let a=await r.json();return e({matches:a.matches,loading:!1,initialized:!0}),a.matches}catch(t){console.error("Error fetching matches:",t),e({error:t instanceof Error?t.message:"Failed to fetch matches",loading:!1})}},getMatchById:e=>t().matches.find(t=>t.id===e),updateMatch:(t,r)=>{e(e=>({matches:e.matches.map(e=>e.id===t?{...e,...r}:e)}))},clearMatches:()=>{e({matches:[],initialized:!1})},markMessageAsRead:t=>{e(e=>({matches:e.matches.map(e=>e.id===t&&e.lastMessage?{...e,lastMessage:{...e.lastMessage,read:!0}}:e)}))}}),s={name:"galatea-matches",partialize:e=>({matches:e.matches})},(e,t,r)=>{let o,n={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(a):a(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...s},i=!1,l=new Set,c=new Set,u=n.storage;if(!u)return a((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),e(...t)},t,r);let h=()=>{let e=n.partialize({...t()});return u.setItem(n.name,{state:e,version:n.version})},m=r.setState;r.setState=(e,t)=>{m(e,t),h()};let g=a((...t)=>{e(...t),h()},t,r);r.getInitialState=()=>g;let f=()=>{var r,a;if(!u)return;i=!1,l.forEach(e=>{var r;return e(null!=(r=t())?r:g)});let s=(null==(a=n.onRehydrateStorage)?void 0:a.call(n,null!=(r=t())?r:g))||void 0;return d(u.getItem.bind(u))(n.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];if(n.migrate){let t=n.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(r=>{var a;let[s,i]=r;if(e(o=n.merge(i,null!=(a=t())?a:g),!0),s)return h()}).then(()=>{null==s||s(o,void 0),o=t(),i=!0,c.forEach(e=>e(o))}).catch(e=>{null==s||s(void 0,e)})};return r.persist={setOptions:e=>{n={...n,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>f(),hasHydrated:()=>i,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},n.skipHydration||f(),o||g}));class u{static async getMatches(e,t=!1){let{fetchMatches:r,initialized:a}=c.getState();return(t||!a)&&await r(e),c.getState().matches}static getMatch(e){return c.getState().getMatchById(e)}static getUnreadCount(){let{matches:e}=c.getState();return e.filter(e=>e.lastMessage&&!e.lastMessage.read).length}static markAsRead(e){c.getState().markMessageAsRead(e)}static clearMatches(){c.getState().clearMatches()}static hasMatches(){return c.getState().matches.length>0}}let h=u},2881:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(7577);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:d,...c},u)=>(0,a.createElement)("svg",{ref:u,...n,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:o("lucide",i),...c},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...n},l)=>(0,a.createElement)(i,{ref:l,iconNode:t,className:o(`lucide-${s(e)}`,r),...n}));return r.displayName=`${e}`,r}},8732:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\darcy\source\repos\Galatea-AI\app\(protected pages)\layout.tsx#default`)},3147:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var a=r(9510),s=r(7366),o=r.n(s);r(7272);var n=r(8570);(0,n.createProxy)(String.raw`C:\Users\darcy\source\repos\Galatea-AI\components\AuthContext.tsx#useAuth`);let i=(0,n.createProxy)(String.raw`C:\Users\darcy\source\repos\Galatea-AI\components\AuthContext.tsx#AuthProvider`);(0,n.createProxy)(String.raw`C:\Users\darcy\source\repos\Galatea-AI\components\AuthContext.tsx#default`);let l={title:"Galatea.AI - Your Perfect AI Girlfriend",description:"Experience companionship and emotional support with personalized AI girlfriends",icons:{icon:"/favicon.png"}};function d({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:o().className,children:a.jsx(i,{children:a.jsx("main",{className:"pt-16 min-h-screen",children:e})})})})}},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(6621);let s=e=>[{type:"image/x-icon",sizes:"217x256",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};