(()=>{var e={};e.id=780,e.ids=[780],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},665:e=>{"use strict";e.exports=require("dns")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},5816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},8367:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(8198),s(8732),s(5866),s(3147);var r=s(3191),l=s(8716),a=s(7922),i=s.n(a),o=s(5231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let c=["",{children:["(protected pages)",{children:["swipe",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8198)),"C:\\Users\\darcy\\source\\repos\\Galatea-AI\\app\\(protected pages)\\swipe\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8732)),"C:\\Users\\darcy\\source\\repos\\Galatea-AI\\app\\(protected pages)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,3147)),"C:\\Users\\darcy\\source\\repos\\Galatea-AI\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\darcy\\source\\repos\\Galatea-AI\\app\\(protected pages)\\swipe\\page.tsx"],x="/(protected pages)/swipe/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(protected pages)/swipe/page",pathname:"/swipe",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2707:(e,t,s)=>{Promise.resolve().then(s.bind(s,7977))},7977:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var r=s(326),l=s(7577),a=s(772),i=s(2643),o=s(6226),n=s(5047),c=s(4638),d=s(2881);let x=(0,d.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),h=(0,d.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),m=(0,d.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),u=(0,d.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var p=s(1550),f=s(2194);let b=()=>{let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=()=>{t(window.innerHeight>window.innerWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e},g=({image:e,name:t,currentIndex:s,totalImages:l,onNavigate:a,isMobile:i=!1})=>r.jsx("div",{className:`${i?"w-full h-full":"md:w-1/2 h-[40vh] md:h-full"} relative`,children:(0,r.jsxs)("div",{className:"relative h-full w-full",children:[r.jsx(o.default,{src:e,alt:`${t} photo ${s+1}`,fill:!0,style:{objectFit:"cover"},className:"transition-opacity duration-300",priority:!0}),r.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center",children:r.jsx("button",{onClick:()=>a("prev"),className:"bg-black bg-opacity-30 hover:bg-opacity-50 text-white p-2 rounded-r-lg transition-all","aria-label":"Previous photo",children:r.jsx(x,{size:24})})}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:r.jsx("button",{onClick:()=>a("next"),className:"bg-black bg-opacity-30 hover:bg-opacity-50 text-white p-2 rounded-l-lg transition-all","aria-label":"Next photo",children:r.jsx(h,{size:24})})}),r.jsx("div",{className:`absolute ${i?"bottom-16":"bottom-4"} left-0 right-0 flex justify-center`,children:(0,r.jsxs)("div",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[s+1," / ",l]})}),i&&(0,r.jsxs)("div",{className:"absolute bottom-20 left-0 right-0 flex justify-center space-x-16 z-10",children:[r.jsx("button",{className:"bg-white bg-opacity-90 text-gray-800 rounded-full w-16 h-16 flex items-center justify-center shadow-lg",onClick:()=>a("prev"),"aria-label":"Previous",children:r.jsx(x,{size:28})}),r.jsx("button",{className:"bg-white bg-opacity-90 text-gray-800 rounded-full w-16 h-16 flex items-center justify-center shadow-lg",onClick:()=>a("next"),"aria-label":"Next",children:r.jsx(h,{size:28})})]})]})}),j=({profile:e,onSwipe:t,swiping:s,currentIndex:l,totalProfiles:i})=>(0,r.jsxs)("div",{className:"md:w-1/2 p-4 md:p-6 flex flex-col overflow-y-auto",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold text-earth-800 mb-2",children:[e.name,", ",e.age]}),e.location&&(0,r.jsxs)("div",{className:"text-earth-600 mb-2 flex items-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.location]}),r.jsx("div",{className:"mb-3",children:r.jsx("p",{className:"text-earth-700 text-sm md:text-base",children:e.bio})}),e.interests&&(0,r.jsxs)("div",{className:"mb-4 md:mb-6",children:[r.jsx("h3",{className:"text-earth-700 font-semibold mb-1 md:mb-2",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-1 md:gap-2",children:e.interests.map((e,t)=>r.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-1 rounded-full text-xs md:text-sm",children:e},t))})]})]}),(0,r.jsxs)("div",{className:"mt-auto pb-4 md:pb-0",children:[(0,r.jsxs)("h3",{className:"text-center text-earth-600 mb-3 text-sm md:text-base",children:["Would you like to meet ",e.name,"?"]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-6 md:space-x-8",children:[r.jsx(a.z,{className:"bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full w-14 h-14 md:w-16 md:h-16 flex items-center justify-center text-xl md:text-2xl transition-transform duration-200 hover:scale-110",onClick:()=>t("left"),disabled:s,children:r.jsx(m,{size:24})}),r.jsx(a.z,{className:"bg-rose-500 hover:bg-rose-600 text-white rounded-full w-14 h-14 md:w-16 md:h-16 flex items-center justify-center text-xl md:text-2xl transition-transform duration-200 hover:scale-110",onClick:()=>t("right"),disabled:s,children:r.jsx(u,{size:24})})]}),r.jsx("div",{className:"text-center mt-3 md:mt-6",children:(0,r.jsxs)("span",{className:"text-xs md:text-sm text-earth-500",children:["Profile ",l+1," of ",i]})})]})]}),v=({profile:e,isOpen:t,onClose:s})=>t?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70",onClick:s}),(0,r.jsxs)("div",{className:"relative bg-white rounded-xl w-full max-w-md max-h-[80vh] overflow-y-auto z-50 animate-slideUp",children:[r.jsx("button",{className:"absolute top-2 right-2 bg-rose-100 p-2 rounded-full text-earth-600",onClick:s,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-earth-800 mb-2",children:[e.name,", ",e.age]}),e.location&&(0,r.jsxs)("div",{className:"text-earth-600 mb-4 flex items-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.location]}),(0,r.jsxs)("div",{className:"mb-5",children:[r.jsx("h3",{className:"font-semibold text-earth-800 mb-2",children:"About"}),r.jsx("p",{className:"text-earth-700",children:e.bio})]}),e.interests&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"font-semibold text-earth-800 mb-2",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.interests.map((e,t)=>r.jsx("span",{className:"bg-rose-100 text-rose-600 px-3 py-1 rounded-full text-sm",children:e},t))})]})]})]})]}):null,w=({profile:e,currentImageIndex:t,totalImages:s,onImageNav:a,onSwipe:o,swiping:n,currentProfileIndex:c,totalProfiles:d,isMobile:x})=>{let[h,p]=(0,l.useState)(!1);return(0,r.jsxs)("div",{className:"w-full h-full flex flex-col md:flex-row",children:[r.jsx("div",{className:`hidden ${x?"":"md:flex"} w-full h-full`,children:(0,r.jsxs)(i.Zb,{className:"flex flex-row w-full h-full overflow-hidden shadow-xl rounded-none",children:[r.jsx(g,{image:e.images[t],name:e.name,currentIndex:t,totalImages:s,onNavigate:a}),r.jsx(j,{profile:e,onSwipe:o,swiping:n,currentIndex:c,totalProfiles:d})]})}),(0,r.jsxs)("div",{className:`md:hidden ${x?"flex":"hidden"} w-full h-full`,children:[r.jsx(g,{image:e.images[t],name:e.name,currentIndex:t,totalImages:s,onNavigate:a,isMobile:!0}),(0,r.jsxs)("div",{className:"absolute bottom-24 right-4 flex flex-col space-y-3 z-30",children:[r.jsx("button",{onClick:()=>o("right"),disabled:n,className:"bg-rose-500 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg",children:r.jsx(u,{size:24})}),r.jsx("button",{onClick:()=>o("left"),disabled:n,className:"bg-white text-gray-800 rounded-full w-14 h-14 flex items-center justify-center shadow-lg",children:r.jsx(m,{size:24})})]}),r.jsx("button",{className:"absolute bottom-24 left-4 bg-white bg-opacity-90 text-gray-800 rounded-full w-14 h-14 flex items-center justify-center shadow-lg z-30",onClick:()=>p(!0),children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx(v,{profile:e,isOpen:h,onClose:()=>p(!1)})]})]})},N=({error:e,onRetry:t})=>r.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)(i.Zb,{className:"p-8 max-w-md text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-earth-600 mb-6",children:e}),r.jsx(a.z,{className:"bg-rose-600 hover:bg-rose-700 text-white",onClick:t,children:"Try Again"})]})}),y=({matches:e,onViewMatches:t,onReset:s})=>r.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)(i.Zb,{className:"p-8 max-w-md",children:[r.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-4 text-center",children:"You Have Matches! \uD83C\uDF89"}),(0,r.jsxs)("p",{className:"text-earth-600 mb-6 text-center",children:["You've matched with ",e.length," ",1===e.length?"person":"people","!"]}),r.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:e.slice(0,4).map(e=>(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 relative rounded-full overflow-hidden mb-1",children:r.jsx(o.default,{src:e.profile.images[0],alt:e.profile.name,fill:!0,style:{objectFit:"cover"}})}),r.jsx("div",{className:"text-xs text-earth-700",children:e.profile.name})]},e.id))}),(0,r.jsxs)("div",{className:"flex flex-col space-y-3",children:[r.jsx(a.z,{className:"bg-rose-600 hover:bg-rose-700 text-white",onClick:t,children:"View All Matches"}),r.jsx(a.z,{variant:"outline",className:"border-rose-300 text-rose-600 hover:bg-rose-50",onClick:s,children:"Start Over"})]})]})}),k=({onReset:e,onGoToProfile:t})=>r.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)(i.Zb,{className:"p-8 max-w-md text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-4",children:"No Matches Yet"}),r.jsx("p",{className:"text-earth-600 mb-6",children:"You've swiped through everyone! There are plenty of fish in the sea, but none have matched with you yet."}),(0,r.jsxs)("div",{className:"flex flex-col space-y-3",children:[r.jsx(a.z,{className:"bg-rose-600 hover:bg-rose-700 text-white",onClick:t,children:"Update Your Profile"}),r.jsx(a.z,{variant:"outline",className:"border-rose-300 text-rose-600 hover:bg-rose-50",onClick:e,children:"Start Over"})]})]})});function C(){let e=(0,n.useRouter)(),{user:t,loading:s}=(0,c.a)(),[a,i]=(0,l.useState)(!0),[o,d]=(0,l.useState)([]),[x,h]=(0,l.useState)(0),[m,u]=(0,l.useState)(0),[g,j]=(0,l.useState)(!1),[v,C]=(0,l.useState)(null),[z,P]=(0,l.useState)(!1),[q,L]=(0,l.useState)([]),[M,S]=(0,l.useState)(!1),[I,_]=(0,l.useState)(!1),A=b(),$=async e=>{if(t&&!g&&!(x>=o.length)){j(!0);try{let s=o[x];console.log(`User ${t.uid} swiped ${e} on profile ${s.id} (${s.name})`),console.log(`User ${t.uid} swiped ${e} on profile ${s.id} (${s.name})`),u(0),h(e=>e+1)}catch(e){console.error("Error handling swipe:",e),C("Something went wrong. Please try again.")}finally{j(!1)}}};if(z)return e.push("/"),null;if(s||a)return r.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-rose-600"}),r.jsx("div",{className:"text-2xl text-earth-800",children:"Loading profiles..."})]})});if(v)return r.jsx(N,{error:v,onRetry:()=>window.location.reload()});let G=o[x];if(!G)return M?r.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-rose-600"}),r.jsx("div",{className:"text-2xl text-earth-800",children:"Checking for matches..."})]})}):q&&q.length>0?r.jsx(y,{matches:q,onViewMatches:()=>e.push("/matches"),onReset:()=>{L([]),h(0),_(!1),i(!0),fetch("/api/profiles").then(e=>e.json()).then(e=>{d(e.profiles),i(!1)}).catch(e=>{console.error("Error reloading profiles:",e),C("Failed to reload profiles")})}}):r.jsx(k,{onReset:()=>{L([]),h(0),_(!1),i(!0),fetch("/api/profiles").then(e=>e.json()).then(e=>{d(e.profiles),i(!1)}).catch(e=>{console.error("Error reloading profiles:",e),C("Failed to reload profiles")})},onGoToProfile:()=>e.push("/profile")});let E=G.images.length;return r.jsx(f.default,{children:(0,r.jsxs)("div",{className:"h-screen w-screen flex overflow-hidden bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100 absolute top-0 left-0",children:[r.jsx(p.Z,{}),r.jsx("div",{className:"flex-1 flex flex-col h-full",children:r.jsx("main",{className:"flex-1 h-full p-0",children:r.jsx(w,{profile:G,currentImageIndex:m,totalImages:E,onImageNav:e=>{if(!o[x])return;let t=o[x].images.length;"next"===e?u(e=>(e+1)%t):u(e=>(e-1+t)%t)},onSwipe:$,swiping:g,currentProfileIndex:x,totalProfiles:o.length,isMobile:A})})})]})})}},8198:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\darcy\source\repos\Galatea-AI\app\(protected pages)\swipe\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,639,211,434,226,228],()=>s(8367));module.exports=r})();