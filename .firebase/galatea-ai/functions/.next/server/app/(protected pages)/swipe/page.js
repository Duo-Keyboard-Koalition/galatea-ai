(()=>{var e={};e.id=93,e.ids=[93],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4598:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=s(65239),i=s(48088),l=s(88170),a=s.n(l),o=s(30893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d={children:["",{children:["(protected pages)",{children:["swipe",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,19138)),"C:\\Users\\darcy\\source\\repos\\Galatea-AI\\app\\(protected pages)\\swipe\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,12140)),"C:\\Users\\darcy\\source\\repos\\Galatea-AI\\app\\(protected pages)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"C:\\Users\\darcy\\source\\repos\\Galatea-AI\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\darcy\\source\\repos\\Galatea-AI\\app\\(protected pages)\\swipe\\page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(protected pages)/swipe/page",pathname:"/swipe",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19138:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\darcy\\\\source\\\\repos\\\\Galatea-AI\\\\app\\\\(protected pages)\\\\swipe\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\darcy\\source\\repos\\Galatea-AI\\app\\(protected pages)\\swipe\\page.tsx","default")},19771:e=>{"use strict";e.exports=require("process")},20139:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(60687),i=s(43210),l=s(24934),a=s(55192),o=s(30474),n=s(16189),d=s(90096),c=s(62688);let x=(0,c.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),h=(0,c.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),m=(0,c.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),u=(0,c.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),p=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=()=>{t(window.innerHeight>window.innerWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e},f=({image:e,name:t,currentIndex:s,totalImages:i,onNavigate:l,isMobile:a=!1})=>(0,r.jsx)("div",{className:`${a?"w-full h-full":"md:w-1/2 h-[40vh] md:h-full"} relative`,children:(0,r.jsxs)("div",{className:"relative h-full w-full",children:[(0,r.jsx)(o.default,{src:e,alt:`${t} photo ${s+1}`,fill:!0,style:{objectFit:"cover"},className:"transition-opacity duration-300",priority:!0}),(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center",children:(0,r.jsx)("button",{onClick:()=>l("prev"),className:"bg-black bg-opacity-30 hover:bg-opacity-50 text-white p-2 rounded-r-lg transition-all","aria-label":"Previous photo",children:(0,r.jsx)(x,{size:24})})}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:(0,r.jsx)("button",{onClick:()=>l("next"),className:"bg-black bg-opacity-30 hover:bg-opacity-50 text-white p-2 rounded-l-lg transition-all","aria-label":"Next photo",children:(0,r.jsx)(h,{size:24})})}),(0,r.jsx)("div",{className:`absolute ${a?"bottom-16":"bottom-4"} left-0 right-0 flex justify-center`,children:(0,r.jsxs)("div",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[s+1," / ",i]})}),a&&(0,r.jsxs)("div",{className:"absolute bottom-20 left-0 right-0 flex justify-center space-x-16 z-10",children:[(0,r.jsx)("button",{className:"bg-white bg-opacity-90 text-gray-800 rounded-full w-16 h-16 flex items-center justify-center shadow-lg",onClick:()=>l("prev"),"aria-label":"Previous",children:(0,r.jsx)(x,{size:28})}),(0,r.jsx)("button",{className:"bg-white bg-opacity-90 text-gray-800 rounded-full w-16 h-16 flex items-center justify-center shadow-lg",onClick:()=>l("next"),"aria-label":"Next",children:(0,r.jsx)(h,{size:28})})]})]})}),b=({profile:e,onSwipe:t,swiping:s,currentIndex:i,totalProfiles:a})=>(0,r.jsxs)("div",{className:"md:w-1/2 p-4 md:p-6 flex flex-col overflow-y-auto",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold text-earth-800 mb-2",children:[e.name,", ",e.age]}),e.location&&(0,r.jsxs)("div",{className:"text-earth-600 mb-2 flex items-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.location]}),(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)("p",{className:"text-earth-700 text-sm md:text-base",children:e.bio})}),e.interests&&(0,r.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,r.jsx)("h3",{className:"text-earth-700 font-semibold mb-1 md:mb-2",children:"Interests"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1 md:gap-2",children:e.interests.map((e,t)=>(0,r.jsx)("span",{className:"bg-rose-100 text-rose-600 px-2 py-1 rounded-full text-xs md:text-sm",children:e},t))})]})]}),(0,r.jsxs)("div",{className:"mt-auto pb-4 md:pb-0",children:[(0,r.jsxs)("h3",{className:"text-center text-earth-600 mb-3 text-sm md:text-base",children:["Would you like to meet ",e.name,"?"]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-6 md:space-x-8",children:[(0,r.jsx)(l.$,{className:"bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full w-14 h-14 md:w-16 md:h-16 flex items-center justify-center text-xl md:text-2xl transition-transform duration-200 hover:scale-110",onClick:()=>t("left"),disabled:s,children:(0,r.jsx)(m,{size:24})}),(0,r.jsx)(l.$,{className:"bg-rose-500 hover:bg-rose-600 text-white rounded-full w-14 h-14 md:w-16 md:h-16 flex items-center justify-center text-xl md:text-2xl transition-transform duration-200 hover:scale-110",onClick:()=>t("right"),disabled:s,children:(0,r.jsx)(u,{size:24})})]}),(0,r.jsx)("div",{className:"text-center mt-3 md:mt-6",children:(0,r.jsxs)("span",{className:"text-xs md:text-sm text-earth-500",children:["Profile ",i+1," of ",a]})})]})]}),g=({profile:e,isOpen:t,onClose:s})=>t?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-70",onClick:s}),(0,r.jsxs)("div",{className:"relative bg-white rounded-xl w-full max-w-md max-h-[80vh] overflow-y-auto z-50 animate-slideUp",children:[(0,r.jsx)("button",{className:"absolute top-2 right-2 bg-rose-100 p-2 rounded-full text-earth-600",onClick:s,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-earth-800 mb-2",children:[e.name,", ",e.age]}),e.location&&(0,r.jsxs)("div",{className:"text-earth-600 mb-4 flex items-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.location]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("h3",{className:"font-semibold text-earth-800 mb-2",children:"About"}),(0,r.jsx)("p",{className:"text-earth-700",children:e.bio})]}),e.interests&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-earth-800 mb-2",children:"Interests"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.interests.map((e,t)=>(0,r.jsx)("span",{className:"bg-rose-100 text-rose-600 px-3 py-1 rounded-full text-sm",children:e},t))})]})]})]})]}):null,v=({profile:e,currentImageIndex:t,totalImages:s,onImageNav:l,onSwipe:o,swiping:n,currentProfileIndex:d,totalProfiles:c,isMobile:x})=>{let[h,p]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:"w-full h-full flex flex-col md:flex-row",children:[(0,r.jsx)("div",{className:`hidden ${x?"":"md:flex"} w-full h-full`,children:(0,r.jsxs)(a.Zp,{className:"flex flex-row w-full h-full overflow-hidden shadow-xl rounded-none",children:[(0,r.jsx)(f,{image:e.images[t],name:e.name,currentIndex:t,totalImages:s,onNavigate:l}),(0,r.jsx)(b,{profile:e,onSwipe:o,swiping:n,currentIndex:d,totalProfiles:c})]})}),(0,r.jsxs)("div",{className:`md:hidden ${x?"flex":"hidden"} w-full h-full`,children:[(0,r.jsx)(f,{image:e.images[t],name:e.name,currentIndex:t,totalImages:s,onNavigate:l,isMobile:!0}),(0,r.jsxs)("div",{className:"absolute bottom-24 right-4 flex flex-col space-y-3 z-30",children:[(0,r.jsx)("button",{onClick:()=>o("right"),disabled:n,className:"bg-rose-500 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg",children:(0,r.jsx)(u,{size:24})}),(0,r.jsx)("button",{onClick:()=>o("left"),disabled:n,className:"bg-white text-gray-800 rounded-full w-14 h-14 flex items-center justify-center shadow-lg",children:(0,r.jsx)(m,{size:24})})]}),(0,r.jsx)("button",{className:"absolute bottom-24 left-4 bg-white bg-opacity-90 text-gray-800 rounded-full w-14 h-14 flex items-center justify-center shadow-lg z-30",onClick:()=>p(!0),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)(g,{profile:e,isOpen:h,onClose:()=>p(!1)})]})]})},j=({error:e,onRetry:t})=>(0,r.jsx)("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)(a.Zp,{className:"p-8 max-w-md text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-earth-800 mb-4",children:"Something went wrong"}),(0,r.jsx)("p",{className:"text-earth-600 mb-6",children:e}),(0,r.jsx)(l.$,{className:"bg-rose-600 hover:bg-rose-700 text-white",onClick:t,children:"Try Again"})]})}),w=({matches:e,onViewMatches:t,onReset:s})=>(0,r.jsx)("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)(a.Zp,{className:"p-8 max-w-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-earth-800 mb-4 text-center",children:"You Have Matches! \uD83C\uDF89"}),(0,r.jsxs)("p",{className:"text-earth-600 mb-6 text-center",children:["You've matched with ",e.length," ",1===e.length?"person":"people","!"]}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:e.slice(0,4).map(e=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 relative rounded-full overflow-hidden mb-1",children:(0,r.jsx)(o.default,{src:e.profile.images[0],alt:e.profile.name,fill:!0,style:{objectFit:"cover"}})}),(0,r.jsx)("div",{className:"text-xs text-earth-700",children:e.profile.name})]},e.id))}),(0,r.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,r.jsx)(l.$,{className:"bg-rose-600 hover:bg-rose-700 text-white",onClick:t,children:"View All Matches"}),(0,r.jsx)(l.$,{variant:"outline",className:"border-rose-300 text-rose-600 hover:bg-rose-50",onClick:s,children:"Start Over"})]})]})}),N=({onReset:e,onGoToProfile:t})=>(0,r.jsx)("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)(a.Zp,{className:"p-8 max-w-md text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-earth-800 mb-4",children:"No Matches Yet"}),(0,r.jsx)("p",{className:"text-earth-600 mb-6",children:"You've swiped through everyone! There are plenty of fish in the sea, but none have matched with you yet."}),(0,r.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,r.jsx)(l.$,{className:"bg-rose-600 hover:bg-rose-700 text-white",onClick:t,children:"Update Your Profile"}),(0,r.jsx)(l.$,{variant:"outline",className:"border-rose-300 text-rose-600 hover:bg-rose-50",onClick:e,children:"Start Over"})]})]})});function y(){let e=(0,n.useRouter)(),{user:t,loading:s}=(0,d.h)(),[l,a]=(0,i.useState)(!0),[o,c]=(0,i.useState)([]),[x,h]=(0,i.useState)(0),[m,u]=(0,i.useState)(0),[f,b]=(0,i.useState)(!1),[g,y]=(0,i.useState)(null),[k,C]=(0,i.useState)(!1),[P,z]=(0,i.useState)([]),[q,$]=(0,i.useState)(!1),[A,I]=(0,i.useState)(!1),L=p(),M=async e=>{if(t&&!f&&!(x>=o.length)){b(!0);try{let s=o[x];console.log(`User ${t.uid} swiped ${e} on profile ${s.id} (${s.name})`),console.log(`User ${t.uid} swiped ${e} on profile ${s.id} (${s.name})`),u(0),h(e=>e+1)}catch(e){console.error("Error handling swipe:",e),y("Something went wrong. Please try again.")}finally{b(!1)}}};if(k)return e.push("/"),null;if(s||l)return(0,r.jsx)("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-rose-600"}),(0,r.jsx)("div",{className:"text-2xl text-earth-800",children:"Loading profiles..."})]})});if(g)return(0,r.jsx)(j,{error:g,onRetry:()=>window.location.reload()});let S=o[x];if(!S)return q?(0,r.jsx)("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-rose-600"}),(0,r.jsx)("div",{className:"text-2xl text-earth-800",children:"Checking for matches..."})]})}):P&&P.length>0?(0,r.jsx)(w,{matches:P,onViewMatches:()=>e.push("/matches"),onReset:()=>{z([]),h(0),I(!1),a(!0),fetch("/api/profiles").then(e=>e.json()).then(e=>{c(e.profiles),a(!1)}).catch(e=>{console.error("Error reloading profiles:",e),y("Failed to reload profiles")})}}):(0,r.jsx)(N,{onReset:()=>{z([]),h(0),I(!1),a(!0),fetch("/api/profiles").then(e=>e.json()).then(e=>{c(e.profiles),a(!1)}).catch(e=>{console.error("Error reloading profiles:",e),y("Failed to reload profiles")})},onGoToProfile:()=>e.push("/profile")});let _=S.images.length;return(0,r.jsx)("div",{className:"h-full w-full flex overflow-hidden bg-gradient-to-br from-ivory-100 via-rose-50 to-earth-100",children:(0,r.jsx)("main",{className:"flex-1 h-full p-0",children:(0,r.jsx)(v,{profile:S,currentImageIndex:m,totalImages:_,onImageNav:e=>{if(!o[x])return;let t=o[x].images.length;"next"===e?u(e=>(e+1)%t):u(e=>(e-1+t)%t)},onSwipe:M,swiping:f,currentProfileIndex:x,totalProfiles:o.length,isMobile:L})})})}},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},49430:(e,t,s)=>{Promise.resolve().then(s.bind(s,19138))},55511:e=>{"use strict";e.exports=require("crypto")},61054:(e,t,s)=>{Promise.resolve().then(s.bind(s,20139))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,557,321,814,474,77],()=>s(4598));module.exports=r})();